{% extends 'layout.html' %}

{% block title %}
    {{ title }}
{% endblock %}



{% block content %}
{% with messages = get_flashed_messages() %}
{% if messages %}
  <ul class="flashes">
     {% for message in messages %}
        {% if message.split()[0] == 'Account' %}
       

          
        <div class="alert alert-success alert-dismissible fade show" role="alert">
            <p>{{message}}</p>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>

        {% elif message.split()[0] == 'Please' %}
        <div class="container alert alert-warning alert-dismissible fade show" role="alert">
            <p>{{message}}</p>
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endif %}
        
     
     {% endfor %}
 </ul>
{% endif %}
{% endwith %}
    <br>
    <br>
    <div class="container border w-75 p-2">
        
        <form action="" method="post">
            {{ form.hidden_tag() }}
           

            <div class="form-group">
                {{ form.email.label() }}
                {% if form.email.error %}
                        {{ form.email(class = 'form-control is-invalid') }}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                    <span>{{ error }}</span>
                            {% endfor %}
                            
                        </div>
                {% else %}
                    {{ form.email(class = 'form-control') }}
                {% endif %}
                
            </div>


            <div class="form-group">
                {{ form.password.label() }}
                {% if form.password.error %}
                        {{ form.password(class = 'form-control is-invalid') }}
                        <div class="invalid-feedback">
                            {% for error in form.password.errors %}
                                    <span>{{ error }}</span>
                            {% endfor %}
                            
                        </div>
                {% else %}
                    {{ form.password(class = 'form-control') }}
                {% endif %}
                
            </div>

            <div class="form-group">
                {{ form.submit(class = 'btn btn-primary') }}
            </div>

        </form>

        <div class = "container border-top pt-3 w-75 p-2">
            <small class="text-muted">
               Need An Account ?
                <a href="{{ url_for('register') }}" class="ml-1">Sign Up</a>
            </small>
        </div>
    </div>
{% endblock %}



